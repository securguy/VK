# VK
Данное исследование направлено на анализ пользователей и комментариев в сообществах, связанных с ЗОЖ (здоровым образом жизни), веганством и смежными темами, с использованием языка программирования Python с целью понять и проанализировать взаимодействия пользователей в таких сообществах и выявить паттерны, тренды и важные аспекты, связанные с этими темами.

Для достижения этой цели мы соберем данные о пользователях и комментариях из выбранных сообществ. Используя язык программирования Python и соответствующие инструменты, мы разработаем скрипты для извлечения, обработки и анализа данных.

Анализировать данные пользователей и комментариев позволит нам получить информацию о влиянии сообществ на предпочтения и поведение пользователей, а также выявить наиболее обсуждаемые темы и настроения вокруг ЗОЖ и веганства. 

В данной работе мы намерены представить подробный анализ, основанный на данных, собранных и обработанных с использованием Python. Результаты этого исследования могут быть полезными для различных заинтересованных сторон, стремящихся понять и взаимодействовать с сообществами, связанными с ЗОЖ и веганством.

1 ОПРЕДЕЛЕНИЕ ГИПОТЕЗ
Определим гипотезы, над которыми будем работать в данном исследовании в таблице 1.

Таблица 1 – Гипотезы исследования

| №     | Гипотеза        | Описание |
| :-------------: |:-------------:| :-----:|
| 1. Здоровье ВКонтакте |
| 1      | Контент группы по направлениям      |  Продвижение сервисов ВК |
| 2 | Состав целевой аудитории по полу и возрасту    |    1. Пол: преобладание женщин 2. Возраст: преобладание молодежи |
| 3      | Популярные посты      |   1. Конкурсы, розыгрыши 2. Реклама сервисов ВК |
| 2. Секреты здоровья |
| 1      | Контент группы по направлениям      |   1. Здоровье 2. ПП 3. Спорт |
| 2 | Состав целевой аудитории по полу и возрасту      |    1. Пол: преобладание женщин 2. Возраст: преобладание лиц средней возрастной категории |
| 3      | Популярные посты      |   1. Рецепты 2. Интересные факты о ЗОЖ |
| 3. Вегетарианцы и веганы |
| 1      | Контент группы по направлениям      |   Рецепты растительных блюд |
| 2 | Состав целевой аудитории по полу и возрасту      |    1. Пол: преобладание женщин 2. Возраст: преобладание молодежи |
| 3      | Популярные посты      |   1. Рецепты 2. Факты об этичном отношении к природе |

Выберем 3 сообщества в социальной сети ВК, на основе которых будем проводить исследование. 
Интересуемая область: ЗОЖ, ПП, веганство
- Здоровье ВКонтакте	https://vk.com/vkhealth
- Секреты здоровья	https://vk.com/sekreti_zdorovya
-	Вегетарианцы и веганы	https://vk.com/vegetarians

## АНАЛИЗ СООБЩЕСТВ
Анализ контента группы по направлениям

В данном разделе проанализируем “Мешок слов” – таблицу, где самые распространенные слова, встречающиеся в постах, сопоставлены с частотой их появления. 
Было создано по одному “Мешку слов” на каждое сообщество. 

```python
import requests
from tqdm.notebook import tqdm # библиотека для того, чтобы показывало прогрузку (зелененькая полоска)
import time # библиотека для того, чтобы сделать задержку при парсинге
from collections import Counter # библиотека для того, чтобы подсчитать что-то
import statistics
import pandas as pd
import nltk # библиотека для разбивки по слову
!pip install pymorphy2
import pymorphy2 # библиотека для замены падежей

token = 'x'
url = 'https://api.vk.com/method/wall.get'
elements = {'access_token':token, 'v':'5.131', 'domain':'viktortorino', 'count':100, 'offset':0}
inf = requests.get(url,params = elements).json()

post_text = []
for x in tqdm(range(0, 401, 100)):
    elements['offset'] = x
    inf = requests.get(url,params = elements).json()
    for post in inf['response']['items']:
        post_text.append(post['text'])

post_text[0]

text = post_text[0] # ввели переменную и ниже разделили предложение по частям, чтобы было удобно работать
text.split(' ')

post_list = ['NOUN', 'ADJF', 'VERB']

text_tokens_1 = nltk.word_tokenize(text) #!!!ОШИБКА!!!

text_tokens_1

morph = pymorphy2.MorphAnalyzer()
morph.parse('ваши')

p = morph.parse('поездку')[0]
p.tag

post_text = []
for x in tqdm(range(0, 401, 100)):
    elements['offset'] = x
    inf = requests.get(url,params = elements).json()
    for post in inf['response']['items']:
        post_text.append(post['text'])
text = post_text[0]
text.split(' ')
morph = pymorphy2.MorphAnalyzer()
morph.parse() # !!!ОШИБКА!!!

text_tokens_1 = nltk.word_tokenize(text)
morph = pymorphy2.MorphAnalyzer()
token_morph = morph.parse('поиграл')[0] #если указываем 0 - 1 форма, кароче ставишь цифорки и смотришь что будет
token_morph

tokens = [] #для текста собранного в постах мы его токинизируем
for text in tqdm(post_text):
    text_tokens_1 = nltk.word_tokenize(text) #для каждого токена в переменной мы берем морф форму этого токена
    for token in text_tokens_1:
        token_morph = morph.parse(token)[0] #после этого мы проверяем правильность подобранной части речи, добавляем еще ступень, в которой отбираются только токены для одной из 3х частей речи, которые мы ввели до этого
        if token_morph.tag.POS in post_list:
            tokens.append(token_morph.normal_form)
print (tokens)

df = pd.DataFrame(dict(Counter(tokens)).items(), columns = ['Токен', 'Частота']) # дикт - словарь, каунтер - будет считать кол-во упоминаний каждого токена - слова

df.to_excel('Mешок.xlsx')
```


Сообщество “Здоровье ВКонтакте”
Группа "Здоровье ВКонтакте" в большей степени нацелена на проведение розыгрышей и марафонов, посвященных теме здоровья, а также продвижение сервисов экосистемы ВК, а не на распространение информации по теме. 
Это видно по частоте слов, используемых в постах: самыми употребляемыми были слова, связанные с темой проведения розыгрышей (марафон, комментарий, розыгрыш, победитель, участник, приз, вызов, конкурс, активность, награда, трансляция, эфир, получить) и продвижения собственных сервисов (сервис, ВКонтакте, шаги).

3.1.2. Сообщество “Секреты здоровья”
Группа "Секреты здоровья" в большей степени нацелена на распространение информации по теме здоровья. 
Это видно по частоте слов, используемых в постах: самыми употребляемыми были слова, связанные с темой здоровья (заболевание, иммунитет, активизировать, организм, человек, полезный, здоровье), правильного питания (калий, мед, напиток, печень, масло), спорта (фитнес, энергия, растяжка) и ментального здоровья (сон, медитация, психолог, энергия)

3.1.3. Сообщество “Вегетарианцы и веганы”
Группа "Вегетарианцы и веганы" в большей степени нацелена на распространение информации по теме растительного питания, этичного отношения к животным и заботы о природе. 
Это видно по частоте слов, используемых в постах: самыми употребляемыми были слова, связанные с темой растительного питания и исключения животных продуктов (растительный, мясо, питание, веганский, веган, диета, веганство, блюдо) и этичного отношения к природе (животное, исследование, жизнь, вид, выброс, климат, среда, окружающий, животноводство, отношение, глобальный экологический).

-------------
3.2. Анализ целевой аудитории по полу и возрасту
В данном разделе будет проведен анализ активных комментаторов каждого из сообществ по критерию пол и возраст.
Будут использоваться данные из таблицы “Данные пользователей”, где указаны ФИ, дата рождения и пол комментаторов сообществ.

3.2.1. Сообщество “Здоровье ВКонтакте”
Анализ ЦА данного сообщества показал, что количество женщин слегка превышает количество мужчин, а самые многочисленные возрастные группы – молодежь и средний возраст 

3.2.2. Сообщество “Секреты здоровья”
Анализ ЦА данного сообщества показал, что количество мужчин слегка превышает количество женщин, а самые многочисленная возрастная группа –средний возраст 

3.2.3. Сообщество “Вегетарианцы и веганы”
Анализ ЦА данного сообщества показал, что количество женщин слегка превышает количество мужчин, а самые многочисленная возрастная группа –молодежь 

| Tables        | Are           | Cool  |
| ------------- |:-------------:| -----:|
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |
